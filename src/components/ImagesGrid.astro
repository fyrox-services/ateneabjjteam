---
import { Image } from "astro:assets";

interface Props {
  images: {
    img: ImageMetadata;
    alt: string;
  }[];
}

const { images } = Astro.props;
---

<ul>
  {
    images.map(({ img, alt }) => {
      return (
        <li>
          <picture>
            <Image
              loading="lazy"
              src={img}
              widths={[540, 840]}
              sizes={`(max-width: 1024px) 540px, 840px`}
              alt={alt}
              format="webp"
            />
          </picture>
        </li>
      );
    })
  }
</ul>

<style>
  ul {
    display: grid;
    margin: 4rem 0;
  }

  picture {
    width: 100%;
    height: 100%;
  }

  li {
    overflow: hidden;
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* DESKTOP */

  @media (min-width: 1024px) {
    ul {
      grid-template-columns: repeat(5, 1fr);
    }

    li {
      max-height: 45rem;
    }

    li:nth-of-type(1),
    li:nth-of-type(4),
    li:nth-of-type(5),
    li:nth-of-type(8) {
      grid-column: span 3;
    }

    li:nth-of-type(2),
    li:nth-of-type(3),
    li:nth-of-type(6),
    li:nth-of-type(7) {
      grid-column: span 2;
    }
  }

  @media (min-width: 2200px) {
    li {
      max-height: 65rem;
    }
  }
</style>
