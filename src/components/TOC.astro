---
import { buildHeadings } from "@/helpers/buildHeading";

interface Props {
  body: string;
}

const { body } = Astro.props;

const headings = buildHeadings(body);
console.log(headings);
---

<div class="toc">
  <div class="wrap-toc">
    <h2>tabla de contenido</h2>
    <ul>
      {
        headings.map(({ text }) => {
          return (
            <li>
              <a href=""> -> {text}</a>
            </li>
          );
        })
      }
    </ul>
  </div>
</div>

<style>
  /* MOBILE */
  @media (max-width: 1024px) {
    .toc {
      /* background-color: lightblue; */
      display: none;
    }
  }

  /* DESKTOP */
  @media (min-width: 1024px) {
    .toc {
      display: block;
    }

    h2 {
      font-size: var(--fs-base);
    }

    ul {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    a {
      font-size: var(--fs-md);
      color: var(--dark-500);
    }

    .wrap-toc {
      position: sticky;
      top: calc(var(--header-height) * 1.25);
    }
  }
</style>
